kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
kubectl get pods -n argocd -w
kubectl patch svc argocd-server -n argocd -p '{"spec": {"type": "LoadBalancer"}}'
kubectl get pods -n argocd -w
kubectl get svc argocd-server  -n argocd
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d > default_admin_password.txt
more default_admin_password.txt
VERSION=$(curl --silent "https://api.github.com/repos/argoproj/argo-cd/releases/latest" | grep '"tag_name"' | sed -E 's/.*"([^"]+)".*/\1/')
echo $VERSION
wget https://github.com/argoproj/argo-cd/releases/download/$VERSION/argocd-linux-amd64
sudo mv argocd-linux-amd64 /bin/argocd
sudo chmod +x /bin/argocd
argocd
kubectl get svc argocd-server -n argocd
argocd app get guestbook
argocd login ae5a1710a7f1840daaf0a8e47afbc6d1-2068241917.eu-west-1.elb.amazonaws.com
argocd app get guestbook
